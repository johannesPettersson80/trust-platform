FUNCTION LIMIT_ADD : INT
VAR_INPUT
    A : INT;
    B : INT;
    MAX_VALUE : INT;
END_VAR
VAR
    SUM : INT;
END_VAR

SUM := A + B;
IF SUM > MAX_VALUE THEN
    LIMIT_ADD := MAX_VALUE;
ELSE
    LIMIT_ADD := SUM;
END_IF;
END_FUNCTION

FUNCTION SCALE_RAW_TO_PERCENT : REAL
VAR_INPUT
    RAW : INT;
END_VAR

SCALE_RAW_TO_PERCENT := INT_TO_REAL(IN := RAW) * REAL#0.1;
END_FUNCTION

FUNCTION_BLOCK FB_START_STOP
VAR_INPUT
    StartCmd : BOOL;
    StopCmd : BOOL;
END_VAR
VAR_OUTPUT
    Running : BOOL;
END_VAR

IF StopCmd THEN
    Running := FALSE;
ELSIF StartCmd THEN
    Running := TRUE;
END_IF;
END_FUNCTION_BLOCK
